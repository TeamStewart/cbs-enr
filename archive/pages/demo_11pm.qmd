---
title: "Georgia Demo -- '11pm'"
date: ""
author: 
- Joseph R. Loffredo, Mason Reece, Charles Stewart III
affiliation: Massachusetts Institute of Technology
page-layout: full
format:
  html:
    theme: cosmo
    toc: false
    echo: false
    message: false
    warning: false
    cache: false
---

```{r}

suppressPackageStartupMessages({
  library(tidyverse)
  library(gt)
})

reports = tibble(
  path = list.files("~/Dropbox (MIT)/Research/2024 Election Results/primaries/data/clean/GA", pattern = "\\d+\\.csv"),
  timestamp = path |> str_extract("\\d{4}.*?(\\d{2}(?:\\.csv))") |> str_remove(fixed(".csv")) |> ydm_hms(tz = "US/Eastern")
) |> 
  arrange(timestamp)

data24 = read_csv("~/Dropbox (MIT)/Research/2024 Election Results/primaries/data/clean/GA/GA_ALL_primary_2024_12_03_19_19_47.csv") |> 
  filter(race_name == "President-Democrat")

data20 = read_csv("~/Dropbox (MIT)/Research/cbs-enr/data/input/GA/results_2020.csv") |> 
  filter(race_name == "DEM - President of the United States")

data24 |> 
  select(
    state, candidate_name, jurisdiction, precinct_id, vote_mode, precinct_total
  ) |> 
  mutate(
    vote_mode = case_when(
      candidate_name == "Undervote" ~ "Undervote",
      candidate_name == "Overvote" ~ "Overvote",
      .default = vote_mode
    )
  ) |> 
  mutate(
    precinct_votes = sum(precinct_total),
    .by = c(state, jurisdiction, precinct_id)
  ) |> 
  mutate(
    precinct_votes_byMode = sum(precinct_total),
    .by = c(state, jurisdiction, precinct_id, vote_mode)
  ) |> 
  mutate(
    precinct_pct = ifelse(precinct_votes > 0, precinct_total / precinct_votes, NA),
    precinct_pct_byMode = ifelse(precinct_votes_byMode > 0, precinct_total / precinct_votes_byMode, NA)
  )

```


## Votes In?

Number of precincts reporting
Estimated % of total votes

## Estimated Vote Share (Trump vs. Haley)

<!-- point estimate and uncertainty bounds -->

### Cumulative Plot of Estimated Vote Share

### Cumulative Plot of Swing

## Estimated Turnout

### Cumulative Plot of Estimated Vote Share

## County-level Results

full table of current county-level results and where we are missing


